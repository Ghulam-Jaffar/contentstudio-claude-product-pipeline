# Story Creation Guidelines

These rules apply to every story generated by the feature pipeline. Follow them exactly.

---

## 1. Story References

- **Never** refer to other stories as "Story 1", "Story 2", or by number.
- **Always** reference by the full story title. Example: _"Depends on: **[BE] Create Link-in-Bio API endpoints**"_

---

## 2. Platform Constraints

- **No dark mode.** ContentStudio does not have dark mode. Never mention dark mode support, theming toggles, or light/dark variants in stories or acceptance criteria.
- **No RTL language support.** Do not mention RTL layouts, bidirectional text, or RTL-specific styling.
- **Mobile apps have no AI features.** If the feature involves AI, scope it to web only. Do not create mobile AI stories. If a non-AI part of the feature applies to mobile, note explicitly: _"AI functionality is web-only; mobile app gets [specific non-AI scope]."_

---

## 3. Workflow Writing Style

All story workflows must be written **from the user's point of view**, describing actions the user takes — not technical implementation steps.

**Bad (developer POV):**
> 1. Frontend calls POST /api/v1/link-in-bio
> 2. Backend validates the payload
> 3. MongoDB document is created

**Good (user POV):**
> 1. User navigates to Publish → Link in Bio from the left sidebar
> 2. User clicks "Create New Page"
> 3. User enters a page title (e.g., "My Links") and selects a username/slug
> 4. User sees a live preview update on the right side as they type
> 5. User clicks "Save & Publish" and sees a success toast with the live URL

---

## 4. UI Content: Labels, Tooltips, Subtexts, Modals

Every frontend/UI story **must** include the actual copy for all UI elements. Do not leave copy as placeholders or "TBD". Specify:

### For every modal:
- **Title** — the modal header text
- **Description/subtext** — any explanatory text below the title
- **CTA button labels** — primary and secondary (e.g., "Save & Publish" / "Cancel")
- **Learn more link** — location (typically a `?` icon next to the title) and where it links

### For every form field:
- **Label** — the field label text
- **Placeholder** — example text inside the field
- **Helper text/subtext** — text below the field explaining what it does
- **Validation messages** — error states with user-friendly messages

### For every toggle/option:
- **Label** — what the toggle says
- **Tooltip** — hover text explaining what this option does, with an example
- **Info icon (`ℹ`)** — if present, what content it shows on hover/click

### For every tooltip:
Write tooltips that are:
- **Plain language** — no jargon, no technical terms
- **Example-driven** — include a concrete example so the user immediately understands
- **Action-oriented** — tell the user what happens, not what the feature "is"

**Bad tooltip:**
> "Configures the UTM parameters for link tracking."

**Good tooltip:**
> "Add tracking tags to your links so you can see which posts drive the most clicks in Google Analytics. Example: utm_source=instagram, utm_medium=linkinbio"

**Bad tooltip:**
> "Sets the scheduling interval."

**Good tooltip:**
> "Choose how often this post repeats. For example, 'Every 3 days' will re-share this post on Monday, Thursday, Sunday, and so on."

### Writing principles for all UI copy:
1. **Write for a layman** — assume the user is not a tech person, not a social media expert. They should understand on first read.
2. **No thinking required** — the user should never have to pause and wonder "what does this mean?" If they would, your copy needs an example.
3. **Be the best UX writer** — every label, tooltip, and subtext is a chance to guide the user. Use it.
4. **Be specific to ContentStudio** — reference ContentStudio features by name where relevant (e.g., "your Composer drafts", "your connected social accounts").

### Color and theming rules:
**Never hardcode color values** (no `bg-blue-50`, `text-blue-600`, `border-blue-300`, `#157FFF`, etc.). ContentStudio uses a **CSS custom property theming system** for white-label support. All primary colors come from CSS variables.

Use the **theme-aware Tailwind classes:**

| Purpose | Correct class | Wrong class |
|---|---|---|
| Primary text | `text-primary-cs-500` | `text-blue-600` |
| Primary text dark | `text-primary-cs-700` | `text-blue-700` |
| Light background | `bg-primary-cs-50` | `bg-blue-50` |
| Light background semi | `bg-primary-cs-50/50` | `bg-blue-50/50` |
| Border | `border-primary-cs-200` | `border-blue-300` |
| Hover text | `hover:text-cstu-primary-500` | `hover:text-blue-500` |

The Tailwind config maps `primary-cs-*` shades (50, 100, 200, 500, 600, 700, 800, 900) to `--cstu-primary-*` CSS variables. These variables change per white-label domain. Default is blue (`#157FFF`) but white-label customers can set any primary color.

**Neutral/gray colors** (`text-gray-900`, `border-gray-200`, `bg-white`) are fine — they don't change per theme.

---

## 5. Story Splitting: Backend vs Frontend

- **Backend stories** focus on: API endpoints, data models, validation, business logic, jobs, events
- **Frontend stories** focus on: UI components, user interactions, copy/labels/tooltips (per section 4 above), responsive behavior
- **If a feature needs both**, create separate BE and FE stories. Prefix titles: `[BE]` and `[FE]`
- **The FE story** is where ALL UI copy lives — labels, tooltips, modals, toasts, error messages, empty states
- **Never put UI copy in a BE story.** Backend stories deal with data and logic, not what the user sees.

---

## 6. Acceptance Criteria Format

Use checkbox format. Each criterion must be **testable** — a QA engineer should be able to verify it with a clear pass/fail.

```
- [ ] User can create a new link-in-bio page from Publish → Link in Bio
- [ ] Page title is required; shows error "Please enter a page title" if left empty
- [ ] Slug auto-generates from title but can be manually edited
- [ ] Live preview updates within 500ms of any change
- [ ] "Save & Publish" button is disabled until all required fields are filled
```

**Not testable (avoid):**
```
- [ ] The feature works correctly
- [ ] UI looks good
- [ ] Performance is acceptable
```

---

## 7. Global Quality Checklist

Every story must include the checklist from the story template. **Leave all checkboxes unchecked** — the checklist is for developers to mark off during implementation, not for the story author to pre-check.

Only add N/A notes where an item clearly doesn't apply:

```
- [ ] Mobile responsiveness (frontend only, N/A for backend-only stories)
- [ ] Multilingual support (frontend + backend, translations available or fallback handled)
- [ ] UI theming support — N/A, ContentStudio has no dark mode
- [ ] White-label domains impact review
- [ ] Cross-product impact assessment (web, mobile apps, Chrome extension)
```

Mark items `N/A` with a brief reason where they clearly don't apply (e.g., backend-only story → mobile responsiveness N/A). Leave all others as unchecked for devs to verify.

---

## 8. Story Title Convention

Format: `[Team] Action-oriented title`

Examples:
- `[BE] Create CRUD API for link-in-bio pages`
- `[FE] Build link-in-bio page editor with live preview`
- `[FE] Add link-in-bio analytics dashboard`
- `[BE] Implement link click tracking and aggregation job`
- `[Design] Create link-in-bio page templates and component library`

---

## 9. Empty States & Error States

Every FE story that introduces a new view or list **must** include:
- **Empty state** — what the user sees when there's no data yet. Include the illustration concept, headline, subtext, and CTA.
- **Error state** — what the user sees when something fails. Include the error message copy.
- **Loading state** — skeleton/spinner behavior.

Example empty state spec:
> **Headline:** "No link-in-bio pages yet"
> **Subtext:** "Create your first page to share all your important links in one place. Perfect for Instagram, TikTok, and anywhere you can only share one link."
> **CTA button:** "Create Your First Page"

---

## 10. No Estimates

**Never add story point estimates** to stories. Leave the `estimate` field empty. Estimation is done by the development team during sprint planning, not by the story author.

---

## 11. No Labels on Stories

Do not add labels (like "New") when creating stories in Shortcut. Labels are managed by the team manually.

---

## 12. Project Assignment

Every story must be assigned to a **Shortcut project** based on where the work lives:

| Story type | Project |
|---|---|
| Backend (API, server, database) | Web App |
| Frontend (web UI) | Web App |
| iOS mobile app | Mobile |
| Android mobile app | Mobile |
| Chrome extension | Chrome App |
| Billing/payments | Billing |
| DevOps/infra | DevOps |

See `.claude/shortcut-config.json` → `projects` for IDs.

---

## 13. Default Epic for Standalone Stories

If stories are **not** part of a dedicated epic (i.e., created via the `/story` pipeline), assign them to the current **Miscellaneous** epic:
- **Miscellaneous - Q1 - 2026** (id: `107163`)

Update the epic ID each quarter. See `.claude/shortcut-config.json` → `miscellaneous_epics`.

---

## 14. Mobile App Stories

ContentStudio has separate iOS and Android development teams. When a feature or change **impacts mobile apps**, you must create separate mobile stories:

- **Evaluate impact:** If the change adds a new API field, changes existing API behavior, or introduces a feature that users expect on mobile too — create mobile stories.
- **Prefix:** `[iOS]` for iOS, `[Android]` for Android
- **Group:** Use the appropriate mobile team group (if available) or the general team
- **Project:** Assign to "Mobile" project
- **Scope appropriately:** Mobile stories should describe what changes in the mobile app specifically, not repeat the full backend/frontend spec
- **AI features are web-only:** Do not create mobile stories for AI features. Mobile apps do not have AI features yet.

Example: If a backend story adds `last_login_method` to the API response, and users log in via mobile apps too, create:
- `[iOS] Display last used login method on iOS sign-in screen`
- `[Android] Display last used login method on Android sign-in screen`

---

## 15. Code Implementation & PR Workflow

When implementing a story in code (if requested):

**Branch naming:** `feature/sc-{story-id}/{story-title-slug}`
- Example: `feature/sc-111231/-fe-display-last-used-indicator-on-the-sign-in`
- Always lowercase, hyphens for spaces, keep the `[FE]`/`[BE]` prefix in slug form

**Branch workflow:**
1. `git checkout develop` — always branch from `develop`
2. `git pull origin develop` — update local from remote
3. `git checkout -b feature/sc-{id}/{slug}` — create the feature branch
4. Implement the code changes
5. Commit with a descriptive message referencing the story: `[sc-{id}] {description}`
6. Push the branch and create a PR

**PR details:**
- **Title:** Story title (e.g., `[FE] Display "Last used" indicator on the sign-in page`)
- **Description:** Link to the Shortcut story, summary of changes, files modified
- **Base branch:** `develop`
- The Shortcut/GitHub integration auto-links PRs to stories via the `sc-XXXXX` in the branch name
